# =============================================================================
# Production Environment Configuration Template
# =============================================================================
# Copy this file to .env.prod and update all values for production deployment
# Requirements: 4.2 - Environment-specific settings via environment variables
# =============================================================================

# Environment
NODE_ENV=production
DEBUG=false
LOG_LEVEL=INFO

# Domain Configuration (REQUIRED - UPDATE THESE)
DOMAIN=yourdomain.com
API_DOMAIN=api.yourdomain.com
DASHBOARD_DOMAIN=dashboard.yourdomain.com
MONITORING_DOMAIN=monitoring.yourdomain.com

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=2
API_TIMEOUT=300
MAX_REQUEST_SIZE=100MB

# GPU Configuration
CUDA_VISIBLE_DEVICES=0
NVIDIA_VISIBLE_DEVICES=all
NVIDIA_DRIVER_CAPABILITIES=compute,utility

# Cache Directories
HF_HOME=/app/cache/huggingface
TORCH_HOME=/app/cache/torch
DIFFSYNTH_CACHE_DIR=/app/cache/diffsynth
CONTROLNET_CACHE_DIR=/app/cache/controlnet

# Feature Flags
ENABLE_DIFFSYNTH=true
ENABLE_CONTROLNET=true
ENABLE_QWEN_EDIT=true
ENABLE_QWEN_IMAGE=true

# Production Security Settings (REQUIRED - UPDATE THESE)
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOW_CREDENTIALS=false
SECURE_COOKIES=true
HTTPS_ONLY=true

# Performance Settings (Production Optimized)
MEMORY_OPTIMIZATION=true
TILED_PROCESSING_THRESHOLD=4096
MAX_BATCH_SIZE=8
ATTENTION_OPTIMIZATION=true

# Cache Settings
CACHE_TTL=3600
MODEL_CACHE_SIZE=8GB
ENABLE_REDIS_CACHE=true
REDIS_URL=redis://redis:6379/0

# SSL Configuration (REQUIRED - UPDATE THESE)
SSL_EMAIL=admin@yourdomain.com
ACME_CA_SERVER=https://acme-v02.api.letsencrypt.org/directory

# Database Configuration (UPDATE PASSWORDS)
POSTGRES_DB=qwen_prod
POSTGRES_USER=qwen
POSTGRES_PASSWORD=CHANGE_THIS_SECURE_PASSWORD

# Redis Configuration
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD
REDIS_MAXMEMORY=1gb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# Monitoring Configuration (UPDATE PASSWORDS)
GRAFANA_ADMIN_PASSWORD=CHANGE_THIS_GRAFANA_PASSWORD
PROMETHEUS_RETENTION=30d
ENABLE_MONITORING=true

# Security (UPDATE PASSWORDS)
TRAEFIK_DASHBOARD_PASSWORD=CHANGE_THIS_TRAEFIK_PASSWORD
JWT_SECRET_KEY=CHANGE_THIS_JWT_SECRET
API_SECRET_KEY=CHANGE_THIS_API_SECRET

# Logging Configuration
ACCESS_LOG=true
LOG_FORMAT=json
LOG_RETENTION_DAYS=30

# Production Optimizations
ENABLE_GZIP=true
ENABLE_CACHING=true
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# Backup Configuration
BACKUP_RETENTION_DAYS=7
BACKUP_SCHEDULE=0 2 * * *

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# Resource Limits
API_MEMORY_LIMIT=12G
API_CPU_LIMIT=6.0
FRONTEND_MEMORY_LIMIT=256m
FRONTEND_CPU_LIMIT=0.5
TRAEFIK_MEMORY_LIMIT=256m
TRAEFIK_CPU_LIMIT=0.5

# Scaling Configuration
MIN_API_REPLICAS=2
MAX_API_REPLICAS=5
AUTO_SCALING_ENABLED=false